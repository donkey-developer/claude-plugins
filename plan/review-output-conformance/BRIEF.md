# Brief: Review Output Conformance

**Milestone:** Review Output Conformance (#3)
**GitHub:** https://github.com/donkey-developer/claude-plugins/milestone/3

## Context

Version v1.200.0 of the donkey-review plugin was reviewed against its own specifications.
The review identified four divergences between the plugin's intended behaviour (as defined in `spec/`) and its actual output (as observed in `.donkey-review/v1.200.0/`).

This milestone corrects each divergence by updating the relevant prompt source files and recompiling the affected agents and skills.

## Problem Statements

### 1. SRE domain report omits required "What's Good" section (Issue #53)

The SRE domain report (`sre.md`) ends after the maturity assessment table with no "What's Good" section.
The other three domain reports all include this section with specific code evidence.
Spec reference: `spec/review-standards/design-principles.md` — Principle 4.

**Files to update:** `plugins/donkey-review/prompts/sre/_base.md`, then recompile SRE agents and SRE skill.

### 2. Security findings lack exploit paths for MEDIUM and LOW severity (Issue #56)

The security report includes 21 findings but provides exploit scenarios for only 6 (3 HIGH, 2 MEDIUM, 1 HYG).
The remaining 15 findings — all LOWs and most MEDIUMs — appear without an exploit path.
Spec reference: `spec/domains/security/spec.md` — Design Principle 5.4: every finding must include an exploit scenario.

**Files to update:** `plugins/donkey-review/prompts/security/_base.md`, then recompile security agents.

### 3. Security report recommends specific tools and libraries (Issue #54)

Two recommendations in the security report name specific tools by name and signature.
Spec reference: `spec/review-standards/review-framework.md` — Universal Constraints: no prescribing specific tools.

**Files to update:** `plugins/donkey-review/prompts/security/_base.md`, then recompile security agents.

### 4. Cross-domain attributions appear inside domain reports (Issue #55)

Two domain reports contain parenthetical references to sibling domains within individual findings.
`security.md` labels one finding `Architecture (cross-domain)`; `architecture.md` labels one finding `(also flagged by Security)`.
Spec reference: `spec/review-standards/review-framework.md` — Universal Constraints: no cross-domain findings.

**Files to update:** `plugins/donkey-review/prompts/shared/synthesis.md` and/or domain `_base.md` files, then recompile affected agents.

## Scope

**In scope:**
- Updating prompt source files (`prompts/`) to close the four divergences
- Recompiling affected agents and skills via `./scripts/compile.sh`
- Updating specs to record the fixes

**Out of scope:**
- Adding new review capabilities or pillars
- Changing severity thresholds or the maturity model
- Modifying the compile script itself
- Re-reviewing the sample codebase

## Issue Sequence

Issues #53 and #56 are independent and may execute in parallel.
Issue #54 must follow #56 (both modify `prompts/security/_base.md`; sequential execution avoids merge conflicts).
Issue #55 must follow #54 (security agents are regenerated by both; sequential execution keeps compiled files consistent).

```
1. #53 (SRE What's Good) — independent
   #56 (Security exploit paths) — independent, parallel with #53
2. #54 (Security tool prescriptions) — depends on #56
3. #55 (Cross-domain attributions) — depends on #54
4. Close-out — depends on all above
```

Task files:

1. `tasks/01-sre-whats-good.tasks.md` → Issue #53 (no dependencies)
2. `tasks/02-security-exploit-paths.tasks.md` → Issue #56 (no dependencies, parallel with #53)
3. `tasks/03-security-tool-prescriptions.tasks.md` → Issue #54 (depends on #56)
4. `tasks/04-cross-domain-attributions.tasks.md` → Issue #55 (depends on #54)
5. `tasks/05-close.tasks.md` → close-out issue (depends on all above)

## Verification

Each issue is done when:

- The relevant prompt source file(s) are updated
- `./scripts/compile.sh --check` passes (all compiled agents and skills are in sync with prompts)
- A PR is opened against the base branch and all checks pass
